<!DOCTYPE html><html><head><meta charSet="utf-8"/><link rel="apple-touch-icon" sizes="57x57" href="/static/images/icons/apple-icon-57x57.png"/><link rel="apple-touch-icon" sizes="60x60" href="/static/images/icons/apple-icon-60x60.png"/><link rel="apple-touch-icon" sizes="72x72" href="/static/images/icons/apple-icon-72x72.png"/><link rel="apple-touch-icon" sizes="76x76" href="/static/images/icons/apple-icon-76x76.png"/><link rel="apple-touch-icon" sizes="114x114" href="/static/images/icons/apple-icon-114x114.png"/><link rel="apple-touch-icon" sizes="120x120" href="/static/images/icons/apple-icon-120x120.png"/><link rel="apple-touch-icon" sizes="144x144" href="/static/images/icons/apple-icon-144x144.png"/><link rel="apple-touch-icon" sizes="152x152" href="/static/images/icons/apple-icon-152x152.png"/><link rel="apple-touch-icon" sizes="180x180" href="/static/images/icons/apple-icon-180x180.png"/><link rel="icon" type="image/png" sizes="192x192" href="/static/images/icons/android-icon-192x192.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/images/icons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/static/images/icons/favicon-96x96.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/images/icons/favicon-16x16.png"/><meta name="viewport" content="width=device-width"/><link rel="stylesheet" type="text/css" href="/static/css/bootstrap.min.css"/><link rel="stylesheet" type="text/css" href="/static/css/bebasNeue.css"/><link rel="stylesheet" type="text/css" href="/static/css/animations.css"/><link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700,800|Roboto:100,300,400,500,700,900" rel="stylesheet"/><title>ActionHero</title><script src="/static/js/googleAnalytics.js"></script><meta name="next-head-count" content="21"/><link rel="preload" href="/_next/static/xF092CYTqt2jtkQHL2tvZ/pages/tutorials/%5Bname%5D.js" as="script"/><link rel="preload" href="/_next/static/xF092CYTqt2jtkQHL2tvZ/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-08f7b238829422e3b9b2.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.b90c53e5f4776658f1d2.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-526bfde528292a6bf4d3.js" as="script"/></head><body><div id="__next"><div><div style="padding-left:0;padding-right:0;font-family:Roboto, sans-serif;font-size:14px;font-weight:300" class="container-fluid"><header style="background-color:#2F5266"><div class="container"><nav style="background-color:#2F5266;padding-top:5px;margin-bottom:10px;border:0" class="navbar navbar-default"><div class="container"><div class="navbar-header"><a style="padding-top:0;margin-bottom:15px" class="navbar-brand"><img src="/static/images/actionhero-logo-header-wordmark.svg" style="padding-top:14px;padding-bottom:20px"/></a><button type="button" class="navbar-toggle collapsed"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav navbar-right"></ul><ul class="hidden-md hidden-sm hidden-xs nav navbar-nav navbar-left"><li role="presentation" class=""><a role="button" href="#"> </a></li><li role="presentation" class=""><a role="button" href="#"> </a></li></ul><ul class="nav navbar-nav navbar-left"><li role="presentation" class="hidden-sm"><a role="button" href="#"><span style="line-height:3;color:#FFFFFF;padding-bottom:10px;font-weight:300">Why Actionhero</span></a></li><li role="presentation" class=""><a role="button" href="#"><span style="line-height:3;color:#FFFFFF;padding-bottom:10px;font-weight:300">Downloads</span></a></li><li role="presentation" class=""><a role="button" href="#"><span style="line-height:3;color:#FFFFFF;padding-bottom:10px;font-weight:300">Tutorials</span></a></li><li role="presentation" class=""><a role="button" href="#"><span style="line-height:3;color:#FFFFFF;padding-bottom:10px;font-weight:300">Documentation</span></a></li><li role="presentation" class="hidden-sm"><a role="button" href="#"><span style="line-height:3;color:#FFFFFF;padding-bottom:10px;font-weight:300">Plugins</span></a></li><li role="presentation" class=""><a role="button" href="#"><span style="line-height:3;color:#FFFFFF;padding-bottom:10px;font-weight:300">Community</span></a></li><li role="presentation" class=""><a role="button" href="#"><span style="line-height:3;color:#FFFFFF;padding-bottom:10px;font-weight:300">Shop</span></a></li></ul><ul class="nav navbar-nav navbar-right"><div><a style="text-decoration:none" href="/get-started"><button style="font-family:Roboto, sans-serif;font-size:14px;max-width:200px;border-radius:50px;margin:0 auto;color:#FFFFFF;background-color:#E14E3A;border-color:#E14E3A;font-weight:300;margin-top:20px;margin-bottom:0;margin-left:10px;margin-right:10px;outline:none" type="button" class="btn btn-lg btn-default btn-block">Get Started</button></a></div></ul></div></div></nav></div></header></div><div style="padding-left:0;padding-right:0;font-family:Roboto, sans-serif;font-size:14px;font-weight:300" class="container-fluid"><div style="background-color:#FBF9E4;color:#2F5266;font-weight:200;padding:50px"><div class="container"><div class="row"><div style="text-align:center" class="col-md-3"><img src="/static/images/ops-tools.svg"/></div><div style="text-align:center" class="col-md-6"><h1 style="font-family:BebasNeue, Roboto, sans-serif;font-weight:bold;margin-top:20px;margin-bottom:10px;letter-spacing:2px;font-size:36px"><br/>Logging</h1></div><div class="col-md-3"></div></div></div></div><div style="height:183px;background:url(&quot;/static/images/clouds-white.svg&quot;) no-repeat center #FBF9E4"></div><div style="padding-bottom:100px" class="container"><div class="row"><div id="_top"></div><div id="docPageContent" class="col-md-12"><div class="row"><div class="col-md-9"><div><br/><h2 id="Overview" style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72"><span style="font-weight:300;font-size:36px">Overview</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/></div><p>ActionHero uses the <strong><a href="https://github.com/flatiron/winston">Winston logger</a></strong>. This allows for better, more customizable logging. With one simple <code>log</code> command provided by Actionhero, you can log to files, the console, and more!</p><div><br/><h2 id="Levels" style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72"><span style="font-weight:300;font-size:36px">Levels</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/></div><pre style="display:block;overflow-x:auto;padding:0.5em;color:#000;background:#f8f8ff"><code><span style="color:#954121">import</span> { log } form <span style="color:#219161">&#x27;actionhero&#x27;</span>

log(<span style="color:#219161">&quot;hello&quot;</span>); <span style="color:#408080;font-style:italic">// will use the default, &#x27;info&#x27; level</span>
log(<span style="color:#219161">&quot;debug message&quot;</span>, <span style="color:#219161">&quot;debug&quot;</span>); <span style="color:#408080;font-style:italic">// will not show up unless you have configured your logger in this NODE_ENV to be debug</span>
log(<span style="color:#219161">&quot;OH NO&quot;</span>, <span style="color:#219161">&quot;emerg&quot;</span>); <span style="color:#408080;font-style:italic">// will show up in all logger levels</span>
log(<span style="color:#219161">&quot;the params were&quot;</span>, <span style="color:#219161">&quot;info&quot;</span>, data.params); <span style="color:#408080;font-style:italic">// you can log objects too</span></code></pre><p>Note that you can set a <code>level</code> which indicates which level (and those above it) you wish to log per transport. The log levels are:</p><ul><li>0=debug</li><li>1=info</li><li>2=notice</li><li>3=warning</li><li>4=error</li><li>5=crit</li><li>6=alert</li><li>7=emerg</li></ul><p>You can customize these via <code>config.logger.levels</code> and <code>config.logger.colors</code>. See <a href="https://github.com/winstonjs/winston#using-custom-logging-levels">Winston&#x27;s documentation for more information</a></p><p>For example, if you set the logger&#x27;s level to &quot;notice&quot;, you would also see &quot;crit&quot; messages, but not &quot;debug&quot; messages.</p><p>To invoke the logger from your code, use: <code>log(message, severity, metadata)</code>. Learn more <a href="api.html#.log">here</a></p><div><br/><h2 id="Defaults" style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72"><span style="font-weight:300;font-size:36px">Defaults</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/></div><pre style="display:block;overflow-x:auto;padding:0.5em;color:#000;background:#f8f8ff"><code><span style="color:#954121">const</span> cluster = <span style="color:#0086b3">require</span>(<span style="color:#219161">&quot;cluster&quot;</span>);
<span style="color:#954121">const</span> winston = <span style="color:#0086b3">require</span>(<span style="color:#219161">&quot;winston&quot;</span>);

<span style="color:#408080;font-style:italic">// learn more about winston v3 loggers @</span>
<span style="color:#408080;font-style:italic">// - https://github.com/winstonjs/winston</span>
<span style="color:#408080;font-style:italic">// - https://github.com/winstonjs/winston/blob/master/docs/transports.md</span>

<span class="hljs-function"><span style="color:#954121">function</span> <span style="color:#458;font-weight:bold">buildConsoleLogger</span>(<span style="color:#00f">level = &quot;info&quot;</span>) </span>{
  <span style="color:#954121">return</span> <span class="hljs-function"><span style="color:#954121">function</span>(<span style="color:#00f">config</span>) </span>{
    <span style="color:#954121">return</span> winston.createLogger({
      format: winston.format.combine(
        winston.format.timestamp(),
        winston.format.colorize(),
        winston.format.printf(<span class="hljs-function"><span style="color:#00f">info</span> =&gt;</span> {
          <span style="color:#954121">return</span> <span style="color:#219161">`<span style="color:#954121">${config.process.id}</span> @ <span style="color:#954121">${info.timestamp}</span> - <span style="color:#954121">${info.level}</span>: <span style="color:#954121">${
            info.message
          }</span> <span style="color:#954121">${stringifyExtraMessagePropertiesForConsole(info)}</span>`</span>;
        })
      ),
      level,
      levels: winston.config.syslog.levels,
      transports: [<span style="color:#954121">new</span> winston.transports.Console()]
    });
  };
}

<span class="hljs-function"><span style="color:#954121">function</span> <span style="color:#458;font-weight:bold">stringifyExtraMessagePropertiesForConsole</span>(<span style="color:#00f">info</span>) </span>{
  <span style="color:#954121">const</span> skpippedProperties = [<span style="color:#219161">&quot;message&quot;</span>, <span style="color:#219161">&quot;timestamp&quot;</span>, <span style="color:#219161">&quot;level&quot;</span>];
  <span style="color:#954121">let</span> response = <span style="color:#219161">&quot;&quot;</span>;

  <span style="color:#954121">for</span> (<span style="color:#954121">const</span> key <span style="color:#954121">in</span> info) {
    <span style="color:#954121">const</span> value = info[key];
    <span style="color:#954121">if</span> (skpippedProperties.includes(key)) {
      <span style="color:#954121">continue</span>;
    }
    <span style="color:#954121">if</span> (value === <span style="color:#954121">undefined</span> || value === <span style="color:#954121">null</span> || value === <span style="color:#219161">&quot;&quot;</span>) {
      <span style="color:#954121">continue</span>;
    }
    response += <span style="color:#219161">`<span style="color:#954121">${key}</span>=<span style="color:#954121">${value}</span> `</span>;
  }

  <span style="color:#954121">return</span> response;
}

<span class="hljs-function"><span style="color:#954121">function</span> <span style="color:#458;font-weight:bold">buildFileLogger</span>(<span style="color:#00f">
  path,
  level = &quot;info&quot;,
  maxFiles = <span style="color:#954121">undefined</span>,
  maxsize = 20480
</span>) </span>{
  <span style="color:#954121">return</span> <span class="hljs-function"><span style="color:#954121">function</span>(<span style="color:#00f">config</span>) </span>{
    <span style="color:#954121">const</span> filename = <span style="color:#219161">`<span style="color:#954121">${path}</span>/<span style="color:#954121">${config.process.id}</span>-<span style="color:#954121">${config.process.env}</span>.log`</span>;

    <span style="color:#954121">return</span> winston.createLogger({
      format: winston.format.combine(
        winston.format.timestamp(),
        winston.format.json()
      ),
      level,
      levels: winston.config.syslog.levels,
      transports: [
        <span style="color:#954121">new</span> winston.transports.File({
          filename,
          maxsize,
          maxFiles
        })
      ]
    });
  };
}

<span style="color:#954121">export</span> <span style="color:#954121">const</span> DEFAULT = {
  logger: <span class="hljs-function"><span style="color:#00f">config</span> =&gt;</span> {
    <span style="color:#954121">const</span> loggers = [];

    <span style="color:#954121">if</span> (cluster.isMaster) {
      loggers.push(buildConsoleLogger());
    }

    config.general.paths.log.forEach(<span class="hljs-function"><span style="color:#00f">p</span> =&gt;</span> {
      loggers.push(buildFileLogger(p));
    });

    <span style="color:#954121">return</span> {
      loggers,

      <span style="color:#408080;font-style:italic">// the maximum length of param to log (we will truncate)</span>
      maxLogStringLength: <span style="color:#40a070">100</span>
    };
  }
};

<span style="color:#954121">export</span> <span style="color:#954121">const</span> test = {
  logger: <span class="hljs-function"><span style="color:#00f">config</span> =&gt;</span> {
    <span style="color:#954121">const</span> loggers = [];

    config.general.paths.log.forEach(<span class="hljs-function"><span style="color:#00f">p</span> =&gt;</span> {
      loggers.push(buildFileLogger(p, <span style="color:#219161">&quot;debug&quot;</span>, <span style="color:#40a070">1</span>));
    });

    <span style="color:#954121">return</span> {
      loggers
    };
  }
};</code></pre><p>In your <code>config/logger.js</code>, you can customize which <code>transports</code> you would like the logger to use. If none are provided, a default logger which only will print to stdout will be used. See winston&#x27;s documentation for all the logger types, but know that they include console, file, s3, riak, and more.</p><p>You can set a transport directly, IE <code>new (winston.transports.Console)()</code> or in a function which will be passed the <code>api</code> object like the examples above. The benefit of using the function invocation is you will have access to other methods and configuration options (like the title of the process).</p></div><div class="col-md-3"><div style="padding-top:90px"><ul style="list-style-type:none;padding-left:0;margin-left:0"></ul></div></div></div><hr/><p>Back to<!-- --> <a href="/tutorials">Tutorials</a></p></div><div class="hidden-xs hidden-sm col-md-3"></div></div></div><div style="background-color:#6E8898;color:#2F5266;font-weight:300;padding-top:100px;padding-bottom:100px"><div class="container"><div class="row"><div class="col-md-2"></div><div style="text-align:center;color:#FBF9E4;padding-bottom:100px" class="col-md-8"><h1 style="font-family:BebasNeue, Roboto, sans-serif;font-weight:bold;margin-top:20px;margin-bottom:10px;letter-spacing:2px;font-size:36px">Solutions</h1><h2 style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72"><span style="color:#FBF9E4">ActionHero was built from the ground up to include all the features you expect from a modern API framework.</span></h2></div><div class="col-md-2"></div></div><div class="row"><div class="col-md-4"><div style="width:100%;padding-top:40px;padding-bottom:40px;padding-left:40px;padding-right:50px;background-color:#FBF9E4;box-shadow:0px 2px 4px #003C51"><div style="text-align:center;padding-bottom:10px"><h1 style="font-family:BebasNeue, Roboto, sans-serif;font-weight:bold;margin-top:20px;margin-bottom:10px;letter-spacing:2px;font-size:36px">Open Source</h1></div><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><p>The ActionHero server is open source, under the Apache-2 license</p><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><p>ActionHero runs on Linux, OS X, and Windows</p><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><p>You always have access to the ActionHero team via<!-- --> <a href="/community">Slack and Github</a></p><br/><br/><div><a style="text-decoration:none" href="/downloads"><button style="font-family:Roboto, sans-serif;font-weight:300;font-size:14px;max-width:200px;border-radius:50px;margin:0 auto;color:#FFFFFF;background-color:#E14E3A;border-color:#E14E3A;margin-top:20px;margin-bottom:20px;padding-top:15px;padding-bottom:15px;outline:none" type="button" class="btn btn-lg btn-default btn-block">Download</button></a></div></div></div><div class="hidden-md hidden-lg hidden-xl col-md-4"><div style="width:100%;padding:20px;background-color:#2F5266;color:#FFFFFF;box-shadow:0px 2px 4px #003C51"><div style="text-align:center"><img src="/static/images/dog.svg"/><h1 style="font-family:BebasNeue, Roboto, sans-serif;font-weight:bold;margin-top:20px;margin-bottom:10px;letter-spacing:2px;font-size:36px"><span style="color:#FBF9E4">Premium Training &amp; Review</span></h1></div><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><p>We provide support for corporate &amp; nonprofit customers starting at a flat rate of $150/hr. Our services include:</p><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><ul><li><strong>Remote training for your team</strong></li><li><strong>Code Reviews</strong></li><li><strong>Best Practices Audits</strong></li><li><strong>Custom plugin &amp; Feature Development</strong></li></ul><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><p>We have packages appropriate for all company sizes. Contact us to learn more.</p><br/><div><button style="font-family:Roboto, sans-serif;font-weight:300;font-size:14px;max-width:200px;border-radius:50px;margin:0 auto;color:#FFFFFF;background-color:#E14E3A;border-color:#E14E3A;margin-top:20px;margin-bottom:20px;padding-top:15px;padding-bottom:15px;outline:none" type="button" class="btn btn-lg btn-default btn-block">Contact Us</button></div></div></div><div class="hidden-xs hidden-sm col-md-4"><div style="width:125%;padding:40px;background-color:#2F5266;color:#FFFFFF;position:relative;top:-60px;box-shadow:0px 2px 4px #003C51;margin-left:-13%;margin-right:-5%;z-index:10"><div style="text-align:center;padding-bottom:10px"><img src="/static/images/dog.svg"/><h1 style="font-family:BebasNeue, Roboto, sans-serif;font-weight:bold;margin-top:20px;margin-bottom:10px;letter-spacing:2px;font-size:36px">Premium Training &amp; Review</h1></div><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><p>We provide support for corperate &amp; nonprofit customers starting at a flat rate of $150/hr. Our services include:</p><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><ul><li><strong>Remote training for your team</strong></li><li><strong>Code Reviews</strong></li><li><strong>Best Practices Workshops</strong></li><li><strong>Custom plugin &amp; Feature Development</strong></li></ul><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><p>We have packages appropriate for all company sizes. Contact us to learn more.</p><br/><div><button style="font-family:Roboto, sans-serif;font-weight:300;font-size:14px;max-width:200px;border-radius:50px;margin:0 auto;color:#FFFFFF;background-color:#E14E3A;border-color:#E14E3A;margin-top:20px;margin-bottom:20px;padding-top:15px;padding-bottom:15px;outline:none" type="button" class="btn btn-lg btn-default btn-block">Contact Us</button></div></div></div><div class="col-md-4"><div style="width:100%;padding-top:40px;padding-bottom:40px;padding-right:40px;padding-left:50px;background-color:#FBF9E4;box-shadow:0px 2px 4px #003C51"><div style="text-align:center;padding-bottom:10px"><h1 style="font-family:BebasNeue, Roboto, sans-serif;font-weight:bold;margin-top:20px;margin-bottom:10px;letter-spacing:2px;font-size:36px">Enterprise</h1></div><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><p>For larger customers in need of a support contract, we offer an enterprise plan including everything in the Premium plan plus:</p><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><ul><li><strong>24/7 access to core members of the ActionHero Team</strong></li><li><strong>Emergency response packages</strong></li><li><strong>Deployment support</strong></li><li><strong>...and custom development against Actionhero’s core as needed.</strong></li></ul><br/><div><button style="font-family:Roboto, sans-serif;font-weight:300;font-size:14px;max-width:200px;border-radius:50px;margin:0 auto;color:#FFFFFF;background-color:#E14E3A;border-color:#E14E3A;margin-top:20px;margin-bottom:20px;padding-top:15px;padding-bottom:15px;outline:none" type="button" class="btn btn-lg btn-default btn-block">Contact Us</button></div></div></div></div></div></div></div><div style="padding-left:0;padding-right:0;font-family:Roboto, sans-serif;font-size:14px;font-weight:300" class="container-fluid"><footer id="footer-container" style="background-color:#2F5266;color:#FBF9E4;font-family:Roboto, sans-serif;font-weight:200"><div class="container"><div style="padding-bottom:50px;padding-top:50px;padding-left:100px" class="row"><div class="col-md-12"><img src="/static/images/actionhero-logo-header-wordmark.svg"/></div></div><div style="padding-bottom:100px" class="row"><div class="col-md-4"><div style="padding-left:100px"><p><a style="color:#FBF9E4" href="/terms">Terms</a></p><p>Contact us at<!-- --> <a style="color:#FBF9E4;font-weight:500" href="mailto:hello@actionherojs.com">hello@actionherojs.com</a></p><p><a href="https://medium.com/tag/actionherojs/latest" target="_new" style="color:#FBF9E4">Blogs</a></p><p>© 2019<!-- --> <!-- -->ActionHero</p></div></div><div class="col-md-4"><div style="padding-left:100px"><p><a style="color:#FBF9E4" href="/why">Why Actionhero</a></p><p><a style="color:#FBF9E4" href="/get-started">Get Started</a></p><p><a href="https://docs.actionherojs.com" style="color:#FBF9E4">Documenation</a></p><p><a style="color:#FBF9E4" href="/solutions">Solutions</a></p><p><a style="color:#FBF9E4" href="/community">Community</a></p><p><a style="color:#FBF9E4" href="/downloads">Downloads</a></p></div></div><div class="col-md-4"><div style="padding-left:100px"><p><a href="https://www.npmjs.com/package/actionhero" target="_new" style="color:#FBF9E4">NPM</a></p><p><a href="https://twitter.com/actionherojs" target="_new" style="color:#FBF9E4">Twitter</a></p><p><a href="https://slack.actionherojs.com/" target="_new" style="color:#FBF9E4">Slack</a></p><p><a href="https://github.com/actionhero/actionhero" target="_new" style="color:#FBF9E4">Github</a></p><p><a href="https://actionherojs.threadless.com" target="_new" style="color:#FBF9E4">Shop</a></p></div></div></div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"dataManager":"[]","props":{"pageProps":{"markdown":"## Overview\n\nActionHero uses the **[Winston logger](https://github.com/flatiron/winston)**. This allows for better, more customizable logging. With one simple `log` command provided by Actionhero, you can log to files, the console, and more!\n\n## Levels\n\n```ts\nimport { log } form 'actionhero'\n\nlog(\"hello\"); // will use the default, 'info' level\nlog(\"debug message\", \"debug\"); // will not show up unless you have configured your logger in this NODE_ENV to be debug\nlog(\"OH NO\", \"emerg\"); // will show up in all logger levels\nlog(\"the params were\", \"info\", data.params); // you can log objects too\n```\n\nNote that you can set a `level` which indicates which level (and those above it) you wish to log per transport. The log levels are:\n\n- 0=debug\n- 1=info\n- 2=notice\n- 3=warning\n- 4=error\n- 5=crit\n- 6=alert\n- 7=emerg\n\nYou can customize these via `config.logger.levels` and `config.logger.colors`. See [Winston's documentation for more information](https://github.com/winstonjs/winston#using-custom-logging-levels)\n\nFor example, if you set the logger's level to \"notice\", you would also see \"crit\" messages, but not \"debug\" messages.\n\nTo invoke the logger from your code, use: `log(message, severity, metadata)`. Learn more [here](api.html#.log)\n\n## Defaults\n\n```ts\nconst cluster = require(\"cluster\");\nconst winston = require(\"winston\");\n\n// learn more about winston v3 loggers @\n// - https://github.com/winstonjs/winston\n// - https://github.com/winstonjs/winston/blob/master/docs/transports.md\n\nfunction buildConsoleLogger(level = \"info\") {\n  return function(config) {\n    return winston.createLogger({\n      format: winston.format.combine(\n        winston.format.timestamp(),\n        winston.format.colorize(),\n        winston.format.printf(info =\u003e {\n          return `${config.process.id} @ ${info.timestamp} - ${info.level}: ${\n            info.message\n          } ${stringifyExtraMessagePropertiesForConsole(info)}`;\n        })\n      ),\n      level,\n      levels: winston.config.syslog.levels,\n      transports: [new winston.transports.Console()]\n    });\n  };\n}\n\nfunction stringifyExtraMessagePropertiesForConsole(info) {\n  const skpippedProperties = [\"message\", \"timestamp\", \"level\"];\n  let response = \"\";\n\n  for (const key in info) {\n    const value = info[key];\n    if (skpippedProperties.includes(key)) {\n      continue;\n    }\n    if (value === undefined || value === null || value === \"\") {\n      continue;\n    }\n    response += `${key}=${value} `;\n  }\n\n  return response;\n}\n\nfunction buildFileLogger(\n  path,\n  level = \"info\",\n  maxFiles = undefined,\n  maxsize = 20480\n) {\n  return function(config) {\n    const filename = `${path}/${config.process.id}-${config.process.env}.log`;\n\n    return winston.createLogger({\n      format: winston.format.combine(\n        winston.format.timestamp(),\n        winston.format.json()\n      ),\n      level,\n      levels: winston.config.syslog.levels,\n      transports: [\n        new winston.transports.File({\n          filename,\n          maxsize,\n          maxFiles\n        })\n      ]\n    });\n  };\n}\n\nexport const DEFAULT = {\n  logger: config =\u003e {\n    const loggers = [];\n\n    if (cluster.isMaster) {\n      loggers.push(buildConsoleLogger());\n    }\n\n    config.general.paths.log.forEach(p =\u003e {\n      loggers.push(buildFileLogger(p));\n    });\n\n    return {\n      loggers,\n\n      // the maximum length of param to log (we will truncate)\n      maxLogStringLength: 100\n    };\n  }\n};\n\nexport const test = {\n  logger: config =\u003e {\n    const loggers = [];\n\n    config.general.paths.log.forEach(p =\u003e {\n      loggers.push(buildFileLogger(p, \"debug\", 1));\n    });\n\n    return {\n      loggers\n    };\n  }\n};\n```\n\nIn your `config/logger.js`, you can customize which `transports` you would like the logger to use. If none are provided, a default logger which only will print to stdout will be used. See winston's documentation for all the logger types, but know that they include console, file, s3, riak, and more.\n\nYou can set a transport directly, IE `new (winston.transports.Console)()` or in a function which will be passed the `api` object like the examples above. The benefit of using the function invocation is you will have access to other methods and configuration options (like the title of the process).\n","name":"logging"}},"page":"/tutorials/[name]","query":{"name":"logging"},"buildId":"xF092CYTqt2jtkQHL2tvZ","nextExport":true}</script><script nomodule="" src="/_next/static/runtime/polyfills-ebd4705da3402b2d78e1.js"></script><script async="" data-next-page="/tutorials/[name]" src="/_next/static/xF092CYTqt2jtkQHL2tvZ/pages/tutorials/%5Bname%5D.js"></script><script async="" data-next-page="/_app" src="/_next/static/xF092CYTqt2jtkQHL2tvZ/pages/_app.js"></script><script src="/_next/static/runtime/webpack-08f7b238829422e3b9b2.js" async=""></script><script src="/_next/static/chunks/commons.b90c53e5f4776658f1d2.js" async=""></script><script src="/_next/static/runtime/main-526bfde528292a6bf4d3.js" async=""></script></body></html>